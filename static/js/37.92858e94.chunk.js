(this["webpackJsonpnew-react"]=this["webpackJsonpnew-react"]||[]).push([[37],{261:function(e,t,a){"use strict";a.d(t,"b",(function(){return w})),a.d(t,"c",(function(){return y})),a.d(t,"a",(function(){return v}));var i=a(293),n=a.n(i),r=a(269),o=a(0),s=a.n(o),c=a(120),l=a.n(c),p=a(35),d=a(729),u=a(40),h=a(27);const g=Object(h.a)();let m=n.a.create({method:"post",baseURL:r.a,withCredentials:!1,headers:{}});m.interceptors.request.use((function(e){const t=p.a.get("uesr")&&p.a.get("uesr").token;return e.headers.common.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));let f=[];function b(e){let t={mocked:!1,url:e};return t="object"===typeof e?"mock"===Object({NODE_ENV:"development",PUBLIC_URL:"https://shequ-test.dxapp.net"}).MOCK_ENV&&e.mock?{mocked:!0,mock:e.mock}:{mocked:!1,url:e.url}:{mocked:!1,url:e},t}m.interceptors.response.use((function(e){let t=e.data,a=t.message;if(t.code&&a){switch(t.code){case 401:"/"!==window.location.pathname&&"/signin"!==window.location.pathname&&0===f.length&&(f.push(1),d.a.warning({title:"\u63d0\u9192",content:s.a.createElement("div",null,"\u767b\u9646\u5931\u6548"),onOk(){if(f.shift(),p.a.clear(),"/delegateDetail"===window.location.pathname||"/announcedetail"===window.location.pathname){const e={redirect:window.location.href};g.push("/signin?".concat(l.a.stringify(e))),window.location.reload()}else g.push("/signin"),window.location.reload()}}));break;case 500:0===f.length&&(d.a.error({title:"\u54ce\u5466\uff01\u540e\u65b9\u62e5\u6324",content:s.a.createElement("div",null,"\u8bf7\u7a0d\u540e\u518d\u8bd5"),onOk(){f.shift()}}),f.push(1))}}return e}),(function(e){return 0===f.length&&(d.a.error({title:"\u54ce\u5466\uff01\u540e\u65b9\u62e5\u6324",content:s.a.createElement("div",null,"\u8bf7\u7a0d\u540e\u518d\u8bd5"),onOk(){f.shift()}}),f.push(1)),{data:{code:500},error:e}}));const w=(e,t)=>{t=t||{};let a=b(e);return a.mocked?a.mock:m.get(a.url,{params:t})},y=(e,t)=>{let a=b(e);return a.mocked?a.mock:m.post(a.url,t)},v=(e,t)=>{let a=b(e);return a.mocked?a.mock:m.delete(a.url,{params:t})};Object(u.g)(y)},262:function(e,t,a){"use strict";t.a={assetSummary:"/api/asset/summary",assetDetail:"/api/asset/detail",weighAddeth:"/api/weigh/addeth",weighWeleteAddress:"/api/weigh/deleteAddress",weighDone:"/api/weigh/done",weighStatus:"/api/weigh/status",weighRewards:"/api/weigh/rewards",weighDeleteAddress:"/api/weigh/deleteAddress",registerEmail:"/api/register/email",verifyEmail:"/api/common/verify/email",verifyPhone:"/api/common/verify/phone",registerPhone:"/api/register/phone",loginPhone:"/api/login/phone",loginEmail:"/api/login/email",resetpasswordPhone:"/api/resetpassword/phone",resetpasswordEmail:"/api/resetpassword/email",existPhone:"/api/register/exist/phone",existEmail:"/api/register/exist/email",verifyInvitaionCode:"/api/common/verify/invitaionCode",inviteDetail:"/api/invite/detail",inviteSummary:"/api/invite/summary",inviteLink:"/api/invite/link",profileGet:"/api/profile/get",profileUpdate:"/api/profile/update",profileResetPassword:"/api/profile/resetPassword",loginForgetPassword:"/api/login/forgetPassword",checkinStatus:"/api/checkin/status",checkinDo:"/api/checkin/do",announceAdd:"/api/announce/add",announceGet:"/api/announce/get",announceDelete:"/api/announce/delete",announceUpdate:"/api/announce/update",announceGetOne:"/api/announce/getOne",stat:"/api/stat/line",dposLog:"/api/asset/erc20/log",dposWithdraw:"/api/dpos/erc20/withdraw",authorityPassword:"/api/profile/verifyPayPassword",authoritygetcode:"/api/profile/verify/transfer/phone",dposTransfer:"/api/dpos/account/transfer",resetPayPassword:"/api/profile/resetPayPassword",createPayPassword:"/api/profile/createPayPassword",assetChk:"/api/asset/chk",assetSavings:"/api/asset/savings",profileSynctoken:"/api/profile/synctoken",minerGetall:"/api/miner/getall",candidateInfo:"/api/dpos/candidate/get",genposter:"/api/dpos/candidate/genposter",getvotesNumber:"/api/prevote/get",doprevote:"/api/prevote/do",minerVote:"/api/miner/vote",appendPrevote:"/api/prevote/append",deletePreVoteRecord:"/api/prevote/delete",candidateApply:"/api/dpos/candidate/apply",prevotelog:"/api/prevote/log",minersVoteResult:"/api/miner/voteresult",cancelMinerVote:"api/miner/cancelvote",prevotelogResult:"/api/prevote/voteresult",checknickname:"/api/dpos/candidate/checknickname",configGet:"/api/config/get",candidateListapi:"/api/dpos/candidate/getall",assetDeposit:"/api/asset/deposit",minerGenaddress:"/api/miner/genaddress",minerView:"/api/miner/view",minerDeposit:"/api/miner/deposit",minerWithdraw:"/api/miner/withdraw",minerOrderview:"/api/miner/orderview",candidateGetall:"/api/review/candidate/getall",candidateGet:"/api/review/candidate/get",candidateCommit:"/api/review/candidate/commit",minerCount:"/api/miner/prevote/count",assetSyncxt:"/api/asset/syncxt",prevoteGetall:"/api/miner/prevote/getall",minerOnerewardlist:"/api/miner/onerewardlist",minerRewardlist:"/api/miner/rewardlist",supernodeVote:"/api/supernode/vote",supernodeElection:"/api/supernode/election",supernodeInfo:"/api/supernode/info",supernodeReward:"/api/supernode/reward",assetTotaldeposit:"/api/asset/totaldeposit",minerTotalreward:"api/miner/totalreward",assetBatchcreateaddrt:"/api/asset/batchcreateaddr ",withdrawAddressbook:"/api/withdraw/addressbook",dposWithdrawfee:"/api/dpos/withdraw-fee",dpos24withdraw:"/api/dpos/24-hour-withdraw",dposDeposiSstatus:"/api/dpos/erc20/deposit-status",dposWithdrawals:"/api/dpos/recent-withdrawals",dposeWithdrawinfo:"/api/dpos/erc20/withdraw-info",dposeMinnerWithdrawinfo:"/api/miner/order",assetWithdrawals:"/api/asset/erc20/withdrawals",minnerDeposit:"/api/miner/deposit-order",minnerWithdraw:"/api/miner/withdraw-order",profilePhone:"/api/profile/verify/phone"}},265:function(e,t,a){"use strict";function i(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}a.d(t,"a",(function(){return i}))},266:function(e,t,a){"use strict";function i(e,t,a,i,n){var r={};return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce((function(a,i){return i(e,t,a)||a}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}a.d(t,"a",(function(){return i}))},267:function(e,t,a){"use strict"},269:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));let i="https://shequ.dxchain.com";i="http://192.168.50.211:8081"},374:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[];return n.default.Children.forEach(e,(function(e){t.push(e)})),t};var i,n=(i=a(0))&&i.__esModule?i:{default:i}},427:function(e,t,a){"use strict";var i,n,r,o,s,c,l,p,d,u,h,g=a(265),m=a(266),f=(a(267),a(13)),b=a(261),w=a(262),y=a(35);let v=(i=Object(f.d)("\u8868\u683c\u67e5\u8be2"),n=Object(f.d)("\u8868\u683c\u6307\u5b9a\u663e\u793a\u6761\u6570\u5207\u6362"),r=Object(f.d)("\u65b9\u6cd5\u63cf\u8ff0"),o=class{constructor(){Object(g.a)(this,"queryList",s,this),Object(g.a)(this,"loading",c,this),Object(g.a)(this,"staffList",l,this),Object(g.a)(this,"pageInfo",p,this),Object(g.a)(this,"queryListData",d,this),Object(g.a)(this,"onShowSizeChange",u,this),Object(g.a)(this,"handleSearch",h,this)}},s=Object(m.a)(o.prototype,"queryList",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{name:" \u5168\u90e8",id:1}]}}),c=Object(m.a)(o.prototype,"loading",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=Object(m.a)(o.prototype,"staffList",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=Object(m.a)(o.prototype,"pageInfo",[f.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{pageIndex:1,pageSize:10,total:0}}}),d=Object(m.a)(o.prototype,"queryListData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e,t){this.loading=!0;let a={uid:y.a.get("uesr")&&y.a.get("uesr").uid,token:y.a.get("uesr")&&y.a.get("uesr").token,data:{pageNumber:this.pageInfo.pageIndex,pageSize:this.pageInfo.pageSize}},i=await Object(b.c)(w.a.inviteDetail,a);i.data&&200===i.data.code?(Object(f.m)(()=>{this.staffList=i.data.data.list,this.pageInfo={pageIndex:i.data.data.pageNumber,pageSize:i.data.data.pageSize,total:i.data.data.total}}),this.loading=!1):i.data&&201===i.data.code&&(this.loading=!1)}}}),u=Object(m.a)(o.prototype,"onShowSizeChange",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e,t){let a={pageIndex:e,pageSize:t,total:this.pageInfo.total};this.pageInfo=a,this.queryListData()}}}),h=Object(m.a)(o.prototype,"handleSearch",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{let a={pageIndex:e,pageSize:t,total:this.pageInfo.total};this.pageInfo=a,this.queryListData()}}}),o);t.a=new v},438:function(e,t,a){"use strict";var i,n,r,o,s,c,l,p,d,u,h,g,m,f,b,w,y,v,O=a(265),k=a(266),j=(a(267),a(13)),z=a(261),E=a(262);a(35),a(427);let S=(i=Object(j.d)("\u67e5\u8be2\u516c\u544a"),n=Object(j.d)("tabs\u5207\u6362"),r=Object(j.d)("\u5217\u8868\u5207\u6362"),o=Object(j.d)("\u5220\u9664\u5217\u8868"),s=Object(j.d)("\u8349\u7a3f"),c=Object(j.d)("\u91cd\u7f6e\u53c2\u6570"),l=class{constructor(){Object(O.a)(this,"noticeList",p,this),Object(O.a)(this,"loading",d,this),Object(O.a)(this,"pageInfo",u,this),Object(O.a)(this,"categoryType",h,this),Object(O.a)(this,"checked",g,this),Object(O.a)(this,"queryAnnounce",m,this),Object(O.a)(this,"tabsChange",f,this),Object(O.a)(this,"onShowSizeChange",b,this),Object(O.a)(this,"delList",w,this),Object(O.a)(this,"checkboxChange",y,this),Object(O.a)(this,"setData",v,this)}},p=Object(k.a)(l.prototype,"noticeList",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=Object(k.a)(l.prototype,"loading",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=Object(k.a)(l.prototype,"pageInfo",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{pageIndex:1,pageSize:10,total:0}}}),h=Object(k.a)(l.prototype,"categoryType",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=Object(k.a)(l.prototype,"checked",[j.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=Object(k.a)(l.prototype,"queryAnnounce",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e,t){this.loading=!0;let a={data:{type:e,category:t,pageNumber:this.pageInfo.pageIndex,pageSize:this.pageInfo.pageSize}};1===e&&(a.data.status=this.checked);let i=await Object(z.c)(E.a.announceGet,a);200===i.data.code?Object(j.m)(()=>{this.noticeList=i.data.data.list,this.pageInfo={pageIndex:i.data.data.pageNumber,pageSize:i.data.data.pageSize,total:i.data.data.total},this.loading=!1}):(this.noticeList=[],this.loading=!1,this.pageInfo={pageIndex:1,pageSize:10,total:0})}}}),f=Object(k.a)(l.prototype,"tabsChange",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e,t){this.categoryType=t,this.pageInfo={pageIndex:1,pageSize:10,total:0},this.queryAnnounce(e,t)}}}),b=Object(k.a)(l.prototype,"onShowSizeChange",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e,t,a){this.pageInfo={pageIndex:e,pageSize:t,total:this.pageInfo.total},this.queryAnnounce(a,this.categoryType)}}}),w=Object(k.a)(l.prototype,"delList",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e,t){let a={data:{id:e}};200===(await Object(z.c)(E.a.announceDelete,a)).data.code&&Object(j.m)(()=>{this.queryAnnounce(t,this.categoryType)})}}}),y=Object(k.a)(l.prototype,"checkboxChange",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e,t){this.checked=e?0:null,this.pageInfo={pageIndex:1,pageSize:10,total:0},this.queryAnnounce(t,this.categoryType)}}}),v=Object(k.a)(l.prototype,"setData",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(){this.loading=!1,this.pageInfo={pageIndex:1,pageSize:10,total:0},this.categoryType=null,this.checked=null}}}),l);t.a=new S},638:function(e,t,a){},718:function(e,t,a){"use strict";a.r(t);var i,n=a(0),r=a.n(n),o=(a(638),a(115)),s=a(45),c=a(56),l=a(31),p=a(73),d=a(300),u=a(57),h=a(257),g=a(364),m=a(273),f=a(40),b=a(438),w=a(35),y=a(118);const v=o.a.TabPane,O=s.a.Item;let k=Object(y.b)(i=class extends n.Component{constructor(e){super(e),this.componentDidMount=()=>{let e=w.a.get("uesr")&&w.a.get("uesr").role&&-1!==w.a.get("uesr").role.indexOf(1)?1:0;this.setState({num:e},()=>{b.a.queryAnnounce(this.state.num,null)})},this.componentWillUnmount=()=>{b.a.setData()},this.callback=e=>{"all"===e&&(e=null),b.a.tabsChange(this.state.num,e)},this.goDetail=e=>{this.props.history.push("/announcedetail?id=".concat(e))},this.onShowSizeChange=(e,t)=>{b.a.onShowSizeChange(e,t,this.state.num)},this.delList=e=>{b.a.delList(e,this.state.num)},this.editList=e=>{this.props.history.push("/announceform?id=".concat(e))},this.handleNew=()=>{this.props.history.push("/announceform?id=new")},this.checkboxChange=e=>{b.a.checkboxChange(e.target.checked,this.state.num)},this.errSrc=()=>{},this.state={num:1}}render(){const e=b.a.noticeList,t=b.a.pageInfo,a=b.a.loading,i=this.state.num;return r.a.createElement("div",{className:"announce-list"},r.a.createElement(c.a,null,r.a.createElement(l.a,{className:"personal-title",span:20},"\u516c\u544a\u4e2d\u5fc3"),r.a.createElement(l.a,{className:"personal-title",span:4},1===i&&r.a.createElement(p.a,{className:"fr",type:"primary",onClick:this.handleNew},"\u65b0\u589e\u516c\u544a"))),r.a.createElement("div",null,r.a.createElement(o.a,{defaultActiveKey:"all",onChange:this.callback},r.a.createElement(v,{tab:"\u5168\u90e8",key:"all"}),r.a.createElement(v,{tab:"\u65b0\u529f\u80fd",key:"upgrade"}),r.a.createElement(v,{tab:"\u6d3b\u52a8\u516c\u544a",key:"activity"}))),r.a.createElement("div",null,r.a.createElement(d.a,{spinning:a},0===e.length?r.a.createElement(u.a,{image:u.a.PRESENTED_IMAGE_SIMPLE}):0!==e.length&&e.map((e,t)=>r.a.createElement("div",{className:"list-box",key:e.id},r.a.createElement(c.a,null,r.a.createElement(l.a,{xl:8,xs:8},r.a.createElement("div",{className:"box-left",onClick:this.goDetail.bind(this,e.id)},e.coverImageUrl?r.a.createElement("img",{src:e.coverImageUrl,onError:this.errSrc}):null)),r.a.createElement(l.a,{xl:16,xs:16},r.a.createElement("div",{className:"box-right"},r.a.createElement("div",{className:"box-right-new"},e.sticky?"\u7f6e\u9876":null),r.a.createElement("div",{className:"box-right-title"},r.a.createElement("span",{className:"box-right-left",onClick:this.goDetail.bind(this,e.id)},e.title),1===i&&r.a.createElement(h.a,{className:"fr user-img",overlay:r.a.createElement(s.a,null,r.a.createElement(O,{key:"1",onClick:this.editList.bind(this,e.id)},"\u7f16\u8f91"),r.a.createElement(O,{key:"2",onClick:this.delList.bind(this,e.id)},"\u5220\u9664")),trigger:["click"]},r.a.createElement("i",{className:["iconfont","icon-more"].join(" ")}))),r.a.createElement("p",{className:"box-right-content",onClick:this.goDetail.bind(this,e.id)},e.summary),r.a.createElement("p",{className:"box-right-time",style:{marginTop:e.sticky?window.document.body.offsetWidth<1200?0:35:window.document.body.offsetWidth<1200?30:58}},"\u53d1\u5e03\u65f6\u95f4:  ",e.publishTime)))))))),r.a.createElement("div",{className:"fr",style:{marginTop:40}},r.a.createElement(g.a,{pageSize:t.pageSize,total:t.total,showTotal:e=>"\u5171 ".concat(e," \u6761\u6570\u636e"),defaultPageSize:6,current:t.pageIndex,onChange:this.onShowSizeChange,size:"normal"})),1===i&&r.a.createElement("div",{className:"fl",style:{marginTop:50}},r.a.createElement(m.a,{onChange:this.checkboxChange},"\u53ea\u770b\u8349\u7a3f")))}})||i;t.default=Object(f.g)(k)}}]);