(this["webpackJsonpnew-react"]=this["webpackJsonpnew-react"]||[]).push([[39],{261:function(e,t,a){"use strict";a.d(t,"b",(function(){return v})),a.d(t,"c",(function(){return b})),a.d(t,"a",(function(){return E}));var i=a(293),n=a.n(i),r=a(269),o=a(0),s=a.n(o),c=a(120),l=a.n(c),d=a(35),p=a(729),m=a(40),u=a(27);const h=Object(u.a)();let g=n.a.create({method:"post",baseURL:r.a,withCredentials:!1,headers:{}});g.interceptors.request.use((function(e){const t=d.a.get("uesr")&&d.a.get("uesr").token;return e.headers.common.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));let f=[];function w(e){let t={mocked:!1,url:e};return t="object"===typeof e?"mock"===Object({NODE_ENV:"development",PUBLIC_URL:"https://shequ-test.dxapp.net"}).MOCK_ENV&&e.mock?{mocked:!0,mock:e.mock}:{mocked:!1,url:e.url}:{mocked:!1,url:e},t}g.interceptors.response.use((function(e){let t=e.data,a=t.message;if(t.code&&a){switch(t.code){case 401:"/"!==window.location.pathname&&"/signin"!==window.location.pathname&&0===f.length&&(f.push(1),p.a.warning({title:"\u63d0\u9192",content:s.a.createElement("div",null,"\u767b\u9646\u5931\u6548"),onOk(){if(f.shift(),d.a.clear(),"/delegateDetail"===window.location.pathname||"/announcedetail"===window.location.pathname){const e={redirect:window.location.href};h.push("/signin?".concat(l.a.stringify(e))),window.location.reload()}else h.push("/signin"),window.location.reload()}}));break;case 500:0===f.length&&(p.a.error({title:"\u54ce\u5466\uff01\u540e\u65b9\u62e5\u6324",content:s.a.createElement("div",null,"\u8bf7\u7a0d\u540e\u518d\u8bd5"),onOk(){f.shift()}}),f.push(1))}}return e}),(function(e){return 0===f.length&&(p.a.error({title:"\u54ce\u5466\uff01\u540e\u65b9\u62e5\u6324",content:s.a.createElement("div",null,"\u8bf7\u7a0d\u540e\u518d\u8bd5"),onOk(){f.shift()}}),f.push(1)),{data:{code:500},error:e}}));const v=(e,t)=>{t=t||{};let a=w(e);return a.mocked?a.mock:g.get(a.url,{params:t})},b=(e,t)=>{let a=w(e);return a.mocked?a.mock:g.post(a.url,t)},E=(e,t)=>{let a=w(e);return a.mocked?a.mock:g.delete(a.url,{params:t})};Object(m.g)(b)},262:function(e,t,a){"use strict";t.a={assetSummary:"/api/asset/summary",assetDetail:"/api/asset/detail",weighAddeth:"/api/weigh/addeth",weighWeleteAddress:"/api/weigh/deleteAddress",weighDone:"/api/weigh/done",weighStatus:"/api/weigh/status",weighRewards:"/api/weigh/rewards",weighDeleteAddress:"/api/weigh/deleteAddress",registerEmail:"/api/register/email",verifyEmail:"/api/common/verify/email",verifyPhone:"/api/common/verify/phone",registerPhone:"/api/register/phone",loginPhone:"/api/login/phone",loginEmail:"/api/login/email",resetpasswordPhone:"/api/resetpassword/phone",resetpasswordEmail:"/api/resetpassword/email",existPhone:"/api/register/exist/phone",existEmail:"/api/register/exist/email",verifyInvitaionCode:"/api/common/verify/invitaionCode",inviteDetail:"/api/invite/detail",inviteSummary:"/api/invite/summary",inviteLink:"/api/invite/link",profileGet:"/api/profile/get",profileUpdate:"/api/profile/update",profileResetPassword:"/api/profile/resetPassword",loginForgetPassword:"/api/login/forgetPassword",checkinStatus:"/api/checkin/status",checkinDo:"/api/checkin/do",announceAdd:"/api/announce/add",announceGet:"/api/announce/get",announceDelete:"/api/announce/delete",announceUpdate:"/api/announce/update",announceGetOne:"/api/announce/getOne",stat:"/api/stat/line",dposLog:"/api/asset/erc20/log",dposWithdraw:"/api/dpos/erc20/withdraw",authorityPassword:"/api/profile/verifyPayPassword",authoritygetcode:"/api/profile/verify/transfer/phone",dposTransfer:"/api/dpos/account/transfer",resetPayPassword:"/api/profile/resetPayPassword",createPayPassword:"/api/profile/createPayPassword",assetChk:"/api/asset/chk",assetSavings:"/api/asset/savings",profileSynctoken:"/api/profile/synctoken",minerGetall:"/api/miner/getall",candidateInfo:"/api/dpos/candidate/get",genposter:"/api/dpos/candidate/genposter",getvotesNumber:"/api/prevote/get",doprevote:"/api/prevote/do",minerVote:"/api/miner/vote",appendPrevote:"/api/prevote/append",deletePreVoteRecord:"/api/prevote/delete",candidateApply:"/api/dpos/candidate/apply",prevotelog:"/api/prevote/log",minersVoteResult:"/api/miner/voteresult",cancelMinerVote:"api/miner/cancelvote",prevotelogResult:"/api/prevote/voteresult",checknickname:"/api/dpos/candidate/checknickname",configGet:"/api/config/get",candidateListapi:"/api/dpos/candidate/getall",assetDeposit:"/api/asset/deposit",minerGenaddress:"/api/miner/genaddress",minerView:"/api/miner/view",minerDeposit:"/api/miner/deposit",minerWithdraw:"/api/miner/withdraw",minerOrderview:"/api/miner/orderview",candidateGetall:"/api/review/candidate/getall",candidateGet:"/api/review/candidate/get",candidateCommit:"/api/review/candidate/commit",minerCount:"/api/miner/prevote/count",assetSyncxt:"/api/asset/syncxt",prevoteGetall:"/api/miner/prevote/getall",minerOnerewardlist:"/api/miner/onerewardlist",minerRewardlist:"/api/miner/rewardlist",supernodeVote:"/api/supernode/vote",supernodeElection:"/api/supernode/election",supernodeInfo:"/api/supernode/info",supernodeReward:"/api/supernode/reward",assetTotaldeposit:"/api/asset/totaldeposit",minerTotalreward:"api/miner/totalreward",assetBatchcreateaddrt:"/api/asset/batchcreateaddr ",withdrawAddressbook:"/api/withdraw/addressbook",dposWithdrawfee:"/api/dpos/withdraw-fee",dpos24withdraw:"/api/dpos/24-hour-withdraw",dposDeposiSstatus:"/api/dpos/erc20/deposit-status",dposWithdrawals:"/api/dpos/recent-withdrawals",dposeWithdrawinfo:"/api/dpos/erc20/withdraw-info",dposeMinnerWithdrawinfo:"/api/miner/order",assetWithdrawals:"/api/asset/erc20/withdrawals",minnerDeposit:"/api/miner/deposit-order",minnerWithdraw:"/api/miner/withdraw-order",profilePhone:"/api/profile/verify/phone"}},269:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));let i="https://shequ.dxchain.com";i="http://192.168.50.211:8081"},271:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));const i=/(\d{3})(?=\d)/g;function n(e,t){if(""===e||void 0===e||null===e)return"--.--";if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:2;var a=Math.abs(e).toFixed(t),n=t?a.slice(0,-1-t):a,r=n.length%3,o=r>0?n.slice(0,r)+(n.length>3?",":""):"",s=t?a.slice(-1-t):"";return(e<0?"-":"")+o+n.slice(r).replace(i,"$1,")+s}function r(e,t=2){if(0===t&&(e=(e=e.replace(/\.{0,}/g,"")).replace(/^[1-9]\./g,"")),(e=(e=(e=(e=String(e)).replace(/[^0-9.]/g,"")).replace(/\.{2,}/g,".")).replace(/^\./g,"")).split(".").length>2)e=e.replace(".","$#$").replace(/\./g,"").replace("$#$",".");else if("0"===e.substring(0,1)&&"."!==e.substring(1,2))e="0";else if(-1===e.indexOf("."))e=e.substring(0,12);else{const a=Number(e.indexOf("."));e=a>12?e.substring(0,12)+e.substring(a,a+1+Number(t)):e.substring(0,a)+e.substring(a,a+1+Number(t))}return e}},683:function(e,t,a){},684:function(e,t,a){},738:function(e,t,a){"use strict";a.r(t);var i=a(70),n=a(0),r=a.n(n),o=a(682),s=a(56),c=a(31);function l(e){return e.style.height="100%",parseInt("".concat(getComputedStyle(e).height),10)-(parseInt("".concat(getComputedStyle(e).paddingTop),10)+parseInt("".concat(getComputedStyle(e).paddingBottom),10))}function d(e){if(!e)return 0;const t=e;let a=l(t);const i=t.parentNode;return i&&(a=l(i)),a}var p=function(){return e=>{class t extends r.a.Component{constructor(...e){super(...e),this.state={computedHeight:0},this.root=void 0,this.handleRoot=e=>{this.root=e}}componentDidMount(){if(!this.props.height){let e=d(this.root);this.setState({computedHeight:e}),e<1&&(e=d(this.root),this.setState({computedHeight:e}))}}render(){const t=this.props.height,a=this.state.computedHeight,i=t||a;return r.a.createElement("div",{ref:this.handleRoot,style:{minHeight:"100px"}},i>0&&r.a.createElement(e,Object.assign({},this.props,{height:i})))}}return t}};a(92);const m=(e,t,a)=>"".concat(e,"K");const u=e=>{const t={offset:5,rotate:0,textStyle:{textAlign:"center",fill:"#404040",fontSize:"13",textBaseline:"top"},autoRotate:!1};return"user"===e?(t.formatter=m,t):t};var h=a(370),g=a(260),f=a(2),w=a.n(f),v=a(683),b=a.n(v);class E extends r.a.Component{constructor(...e){super(...e),this.renderContent=()=>{const e=this.props,t=e.contentHeight,a=e.title,i=e.avatar,n=e.action,o=e.total,s=e.footer,c=e.children;return!e.loading&&r.a.createElement("div",{className:b.a.chartCard},r.a.createElement("div",{className:w()(b.a.chartTop,{[b.a.chartTopMargin]:!c&&!s})},r.a.createElement("div",{className:b.a.avatar},i),r.a.createElement("div",{className:b.a.metaWrap},r.a.createElement("div",{className:b.a.meta},r.a.createElement("span",{className:b.a.title},a),r.a.createElement("span",{className:b.a.action},n)),(e=>{if(!e&&0!==e)return null;let t;switch(typeof e){case"undefined":t=null;break;case"function":t=r.a.createElement("div",{className:b.a.total},e());break;default:t=r.a.createElement("div",{className:b.a.total},e)}return t})(o))),c&&r.a.createElement("div",{className:b.a.content,style:{height:t||"auto"}},r.a.createElement("div",{className:t&&b.a.contentFixed},c)),s&&r.a.createElement("div",{className:w()(b.a.footer,{[b.a.footerMargin]:!c})},s))}}render(){const e=this.props,t=e.loading,a=void 0!==t&&t,i=(e.contentHeight,e.title,e.avatar,e.action,e.total,e.footer,e.children,Object(h.a)(e,["loading","contentHeight","title","avatar","action","total","footer","children"]));return r.a.createElement(g.a,Object.assign({loading:a,bodyStyle:{padding:"20px 24px 8px 24px"}},i),this.renderContent())}}var y=E,k=a(35),O=a(271),x=a(261),j=a(262),N=a(21);a(684);const C={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},P={sales:{alias:"y\u8f74"}},S={lineWidth:3,stroke:"#ccc",length:-5},A={offset:12,rotate:0,textStyle:{textAlign:"center",fill:"#404040",fontSize:"13",textBaseline:"top"},autoRotate:!1,formatter:(e,t,a)=>""};let R=k.a.get("uesr")&&k.a.get("uesr").role&&-1!==k.a.get("uesr").role.indexOf(1)?1:0;t.default=p()(e=>{const t=Object(n.useState)([]),a=Object(i.a)(t,2),l=a[0],d=a[1],p=Object(n.useState)([]),m=Object(i.a)(p,2),h=m[0],g=m[1],f=Object(n.useState)(0),w=Object(i.a)(f,2),v=w[0],b=w[1],E=Object(n.useState)("0"),k=Object(i.a)(E,2),D=k[0],W=k[1],F=Object(n.useState)(["",""]),G=Object(i.a)(F,2),H=G[0],T=G[1];Object(n.useEffect)(()=>{Object(x.b)(j.a.stat).then(e=>{g(Object(N.a)(e.data.data,"user")),d(Object(N.a)(e.data.data,"weigh")),b(e.data.data.userCount||0),W(e.data.data.weighAddressCount||"0"),T([Object(N.a)(e.data.data,"weigh").start,Object(N.a)(e.data.data,"weigh").end])})},[]);Object(n.useCallback)(()=>{Object(x.b)(j.a.stat).then(e=>{g(Object(N.a)(e.data,"user")),d(Object(N.a)(e.data,"weigh"))})},[R]);const L="\u6700\u8fd130\u5929(".concat(H[1]," ~ ").concat(H[0],")\u7528\u6237\u6570"),M="\u6700\u8fd130\u5929(".concat(H[1]," ~ ").concat(H[0],")\u79f0\u91cd\u94b1\u5305\u6570"),V=(e.height,e.padding),B=void 0===V?[60,60,60,100]:V,I=(e.titleMap,e.borderWidth),z=void 0===I?2:I;e.data;return r.a.createElement("div",null,r.a.createElement("div",{className:"personal-title",span:20},"\u6570\u636e\u770b\u677f"),r.a.createElement("div",{className:"dashboardWrapper",style:{overflow:"hidden"}},r.a.createElement("div",null,r.a.createElement(s.a,{gutter:24,type:"flex"},r.a.createElement(c.a,C,r.a.createElement(y,{bordered:!1,title:r.a.createElement("span",{className:"metaTitle"},"\u7528\u6237\u603b\u6570\u91cf"),total:r.a.createElement("span",{className:"num"},Object(O.b)(v,0)),footer:r.a.createElement("div",null),contentHeight:46})),r.a.createElement(c.a,C,r.a.createElement(y,{bordered:!1,title:r.a.createElement("span",{className:"metaTitle"},"\u79f0\u91cd\u603b\u6570"),total:r.a.createElement("span",{className:"num"},Object(O.b)(D,0)),footer:r.a.createElement("div",null),contentHeight:46})))),r.a.createElement("div",{className:"timelineChart",style:{height:"auto"}},r.a.createElement("div",null,r.a.createElement("h4",{className:"title"},"".concat(L)),r.a.createElement(o.Chart,{height:400,padding:B,data:h,scale:P,forceFit:!0},r.a.createElement(o.Axis,{name:"x",tickLine:S,label:A}),r.a.createElement(o.Axis,{name:"userCount",label:u("user"),visible:!1}),r.a.createElement(o.Tooltip,null),r.a.createElement(o.Geom,{type:"line",position:"x*userCount",size:z,color:"#0091FF",shape:"smooth",tooltip:["x*userCount",(e,t)=>({name:"\u7528\u6237\u6570",title:e,value:Object(O.b)(1e3*t,0)})]})),r.a.createElement("div",{style:{marginRight:-20}}))),r.a.createElement("div",{className:"timelineChart",style:{height:"auto"}},r.a.createElement("div",null,r.a.createElement("h4",{className:"title"},M),r.a.createElement(o.Chart,{height:400,padding:B,data:l,forceFit:!0},r.a.createElement(o.Axis,{name:"x",label:A}),r.a.createElement(o.Axis,{name:"weighCount",label:u("wallet")}),r.a.createElement(o.Tooltip,null),r.a.createElement(o.Legend,{name:"key",position:"top"}),r.a.createElement(o.Geom,{type:"line",position:"x*weighCount",size:z,color:"#0091FF",shape:"smooth",tooltip:["x*weighCount",(e,t)=>({name:"\u79f0\u91cd\u94b1\u5305\u6570",title:e,value:Object(O.b)(t,0)})]})),r.a.createElement("div",{style:{marginRight:-20}})))))})}}]);