(this["webpackJsonpnew-react"]=this["webpackJsonpnew-react"]||[]).push([[32],{261:function(e,t,a){"use strict";a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return v})),a.d(t,"a",(function(){return y}));var i=a(293),n=a.n(i),r=a(269),o=a(0),s=a.n(o),l=a(120),c=a.n(l),d=a(35),p=a(729),u=a(40),m=a(27);const h=Object(m.a)();let b=n.a.create({method:"post",baseURL:r.a,withCredentials:!1,headers:{}});b.interceptors.request.use((function(e){const t=d.a.get("uesr")&&d.a.get("uesr").token;return e.headers.common.Authorization="Bearer "+t,e}),(function(e){return Promise.reject(e)}));let f=[];function w(e){let t={mocked:!1,url:e};return t="object"===typeof e?"mock"===Object({NODE_ENV:"development",PUBLIC_URL:"https://shequ-test.dxapp.net"}).MOCK_ENV&&e.mock?{mocked:!0,mock:e.mock}:{mocked:!1,url:e.url}:{mocked:!1,url:e},t}b.interceptors.response.use((function(e){let t=e.data,a=t.message;if(t.code&&a){switch(t.code){case 401:"/"!==window.location.pathname&&"/signin"!==window.location.pathname&&0===f.length&&(f.push(1),p.a.warning({title:"\u63d0\u9192",content:s.a.createElement("div",null,"\u767b\u9646\u5931\u6548"),onOk(){if(f.shift(),d.a.clear(),"/delegateDetail"===window.location.pathname||"/announcedetail"===window.location.pathname){const e={redirect:window.location.href};h.push("/signin?".concat(c.a.stringify(e))),window.location.reload()}else h.push("/signin"),window.location.reload()}}));break;case 500:0===f.length&&(p.a.error({title:"\u54ce\u5466\uff01\u540e\u65b9\u62e5\u6324",content:s.a.createElement("div",null,"\u8bf7\u7a0d\u540e\u518d\u8bd5"),onOk(){f.shift()}}),f.push(1))}}return e}),(function(e){return 0===f.length&&(p.a.error({title:"\u54ce\u5466\uff01\u540e\u65b9\u62e5\u6324",content:s.a.createElement("div",null,"\u8bf7\u7a0d\u540e\u518d\u8bd5"),onOk(){f.shift()}}),f.push(1)),{data:{code:500},error:e}}));const g=(e,t)=>{t=t||{};let a=w(e);return a.mocked?a.mock:b.get(a.url,{params:t})},v=(e,t)=>{let a=w(e);return a.mocked?a.mock:b.post(a.url,t)},y=(e,t)=>{let a=w(e);return a.mocked?a.mock:b.delete(a.url,{params:t})};Object(u.g)(v)},262:function(e,t,a){"use strict";t.a={assetSummary:"/api/asset/summary",assetDetail:"/api/asset/detail",weighAddeth:"/api/weigh/addeth",weighWeleteAddress:"/api/weigh/deleteAddress",weighDone:"/api/weigh/done",weighStatus:"/api/weigh/status",weighRewards:"/api/weigh/rewards",weighDeleteAddress:"/api/weigh/deleteAddress",registerEmail:"/api/register/email",verifyEmail:"/api/common/verify/email",verifyPhone:"/api/common/verify/phone",registerPhone:"/api/register/phone",loginPhone:"/api/login/phone",loginEmail:"/api/login/email",resetpasswordPhone:"/api/resetpassword/phone",resetpasswordEmail:"/api/resetpassword/email",existPhone:"/api/register/exist/phone",existEmail:"/api/register/exist/email",verifyInvitaionCode:"/api/common/verify/invitaionCode",inviteDetail:"/api/invite/detail",inviteSummary:"/api/invite/summary",inviteLink:"/api/invite/link",profileGet:"/api/profile/get",profileUpdate:"/api/profile/update",profileResetPassword:"/api/profile/resetPassword",loginForgetPassword:"/api/login/forgetPassword",checkinStatus:"/api/checkin/status",checkinDo:"/api/checkin/do",announceAdd:"/api/announce/add",announceGet:"/api/announce/get",announceDelete:"/api/announce/delete",announceUpdate:"/api/announce/update",announceGetOne:"/api/announce/getOne",stat:"/api/stat/line",dposLog:"/api/asset/erc20/log",dposWithdraw:"/api/dpos/erc20/withdraw",authorityPassword:"/api/profile/verifyPayPassword",authoritygetcode:"/api/profile/verify/transfer/phone",dposTransfer:"/api/dpos/account/transfer",resetPayPassword:"/api/profile/resetPayPassword",createPayPassword:"/api/profile/createPayPassword",assetChk:"/api/asset/chk",assetSavings:"/api/asset/savings",profileSynctoken:"/api/profile/synctoken",minerGetall:"/api/miner/getall",candidateInfo:"/api/dpos/candidate/get",genposter:"/api/dpos/candidate/genposter",getvotesNumber:"/api/prevote/get",doprevote:"/api/prevote/do",minerVote:"/api/miner/vote",appendPrevote:"/api/prevote/append",deletePreVoteRecord:"/api/prevote/delete",candidateApply:"/api/dpos/candidate/apply",prevotelog:"/api/prevote/log",minersVoteResult:"/api/miner/voteresult",cancelMinerVote:"api/miner/cancelvote",prevotelogResult:"/api/prevote/voteresult",checknickname:"/api/dpos/candidate/checknickname",configGet:"/api/config/get",candidateListapi:"/api/dpos/candidate/getall",assetDeposit:"/api/asset/deposit",minerGenaddress:"/api/miner/genaddress",minerView:"/api/miner/view",minerDeposit:"/api/miner/deposit",minerWithdraw:"/api/miner/withdraw",minerOrderview:"/api/miner/orderview",candidateGetall:"/api/review/candidate/getall",candidateGet:"/api/review/candidate/get",candidateCommit:"/api/review/candidate/commit",minerCount:"/api/miner/prevote/count",assetSyncxt:"/api/asset/syncxt",prevoteGetall:"/api/miner/prevote/getall",minerOnerewardlist:"/api/miner/onerewardlist",minerRewardlist:"/api/miner/rewardlist",supernodeVote:"/api/supernode/vote",supernodeElection:"/api/supernode/election",supernodeInfo:"/api/supernode/info",supernodeReward:"/api/supernode/reward",assetTotaldeposit:"/api/asset/totaldeposit",minerTotalreward:"api/miner/totalreward",assetBatchcreateaddrt:"/api/asset/batchcreateaddr ",withdrawAddressbook:"/api/withdraw/addressbook",dposWithdrawfee:"/api/dpos/withdraw-fee",dpos24withdraw:"/api/dpos/24-hour-withdraw",dposDeposiSstatus:"/api/dpos/erc20/deposit-status",dposWithdrawals:"/api/dpos/recent-withdrawals",dposeWithdrawinfo:"/api/dpos/erc20/withdraw-info",dposeMinnerWithdrawinfo:"/api/miner/order",assetWithdrawals:"/api/asset/erc20/withdrawals",minnerDeposit:"/api/miner/deposit-order",minnerWithdraw:"/api/miner/withdraw-order",profilePhone:"/api/profile/verify/phone"}},265:function(e,t,a){"use strict";function i(e,t,a,i){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(i):void 0})}a.d(t,"a",(function(){return i}))},266:function(e,t,a){"use strict";function i(e,t,a,i,n){var r={};return Object.keys(i).forEach((function(e){r[e]=i[e]})),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,("value"in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce((function(a,i){return i(e,t,a)||a}),r),n&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(n):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}a.d(t,"a",(function(){return i}))},267:function(e,t,a){"use strict"},268:function(e,t,a){"use strict";function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return i}))},269:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));let i="https://shequ.dxchain.com";i="http://192.168.50.211:8081"},271:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));const i=/(\d{3})(?=\d)/g;function n(e,t){if(""===e||void 0===e||null===e)return"--.--";if(e=parseFloat(e),!isFinite(e)||!e&&0!==e)return"";t=null!=t?t:2;var a=Math.abs(e).toFixed(t),n=t?a.slice(0,-1-t):a,r=n.length%3,o=r>0?n.slice(0,r)+(n.length>3?",":""):"",s=t?a.slice(-1-t):"";return(e<0?"-":"")+o+n.slice(r).replace(i,"$1,")+s}function r(e,t=2){if(0===t&&(e=(e=e.replace(/\.{0,}/g,"")).replace(/^[1-9]\./g,"")),(e=(e=(e=(e=String(e)).replace(/[^0-9.]/g,"")).replace(/\.{2,}/g,".")).replace(/^\./g,"")).split(".").length>2)e=e.replace(".","$#$").replace(/\./g,"").replace("$#$",".");else if("0"===e.substring(0,1)&&"."!==e.substring(1,2))e="0";else if(-1===e.indexOf("."))e=e.substring(0,12);else{const a=Number(e.indexOf("."));e=a>12?e.substring(0,12)+e.substring(a,a+1+Number(t)):e.substring(0,a)+e.substring(a,a+1+Number(t))}return e}},320:function(e,t,a){"use strict";var i,n=a(0),r=a.n(n),o=(a(362),a(40)),s=a(118);let l=Object(s.b)(i=class extends n.Component{constructor(e){super(e),this.componentDidMount=()=>{},this.gobackClick=()=>{"/detailed"===this.props.match.path?this.props.history.push("/myassets"):this.props.history.goBack()},this.state={}}render(){const e=this.props.extraElement,t=void 0===e?r.a.createElement("span",null):e;return r.a.createElement("div",{className:"goback"},r.a.createElement("div",{className:"detailed-goback"},r.a.createElement("span",{onClick:this.gobackClick},r.a.createElement("i",{style:{fontSize:16},className:["iconfont","icon-left-copy"].join(" ")}),r.a.createElement("span",{style:{paddingLeft:10}},"\u8fd4\u56de\u4e0a\u4e00\u7ea7")),t))}})||i;t.a=Object(o.g)(l)},362:function(e,t,a){},441:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(56),o=a(31);a(442);t.a=e=>{const t=e.name,a=void 0===t?"\u8bf7\u8bbe\u7f6e\u9875\u9762\u540d\u79f0":t,i=e.extra,s=void 0===i?n.a.createElement("span",null):i,l=e.extraClassName,c=void 0===l?"":l;return n.a.createElement(r.a,null,n.a.createElement(o.a,{align:"left",className:"personal-title",span:24},a),n.a.createElement(o.a,{align:"left",className:c,span:24},s))}},442:function(e,t,a){},711:function(e,t,a){},750:function(e,t,a){"use strict";a.r(t);var i,n,r,o,s,l,c,d,p,u,m,h,b,f,w,g,v=a(268),y=a(0),O=a.n(y),E=(a(711),a(725)),j=a(729),k=a(56),N=a(31),D=a(73),P=a(384),x=a(40),z=a(265),C=a(266),S=(a(267),a(13)),R=a(261),T=a(262);a(35);var W,L=new(i=Object(S.d)("\u67e5\u8be2DX\u91d1\u989d"),n=Object(S.d)("\u67e5\u8be2DX\u91d1\u989d"),r=Object(S.d)("\u5f39\u7a97"),o=Object(S.d)("\u67e5\u8be2DX\u91d1\u989d"),s=Object(S.d)("\u91cd\u7f6e"),l=class{constructor(){Object(z.a)(this,"data",c,this),Object(z.a)(this,"voteData",d,this),Object(z.a)(this,"num",p,this),Object(z.a)(this,"showModal",u,this),Object(z.a)(this,"loading",m,this),Object(z.a)(this,"fetchData",h,this),Object(z.a)(this,"fetchvoteData",b,this),Object(z.a)(this,"showType",f,this),Object(z.a)(this,"fetchnum",w,this),Object(z.a)(this,"sentData",g,this)}},c=Object(C.a)(l.prototype,"data",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{uid:"",nickName:"",deposit:0,rewardRatio:0,manifesto:"",reviewStatus:"",reviewTime:"",chkBalance:0,reviewOpinion:null,reviewStatus:"1"}}}),d=Object(C.a)(l.prototype,"voteData",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p=Object(C.a)(l.prototype,"num",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=Object(C.a)(l.prototype,"showModal",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=Object(C.a)(l.prototype,"loading",[S.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=Object(C.a)(l.prototype,"fetchData",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e){this.loading=!0;let t=await Object(R.b)("".concat(T.a.candidateInfo,"/").concat(e));200===t.data.code&&Object(S.m)(()=>{this.data=t.data.data,this.loading=!1})}}}),b=Object(C.a)(l.prototype,"fetchvoteData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e){this.loading=!0;let t=await Object(R.b)("".concat(T.a.getvotesNumber,"/").concat(e));200===t.data.code&&Object(S.m)(()=>{this.voteData=t.data.data})}}}),f=Object(C.a)(l.prototype,"showType",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(e){this.showModal=e}}}),w=Object(C.a)(l.prototype,"fetchnum",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async function(){this.loading=!0;let e=await Object(R.c)(T.a.assetSummary,{});200===e.data.code?Object(S.m)(()=>{this.num=e.data.data.chk,this.loading=!1}):e.data&&201===e.data.code&&(this.loading=!1)}}}),g=Object(C.a)(l.prototype,"sentData",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.data={uid:"",nickName:"",deposit:0,rewardRatio:0,manifesto:"",reviewStatus:"",reviewTime:"",chkBalance:0,reviewOpinion:null,reviewStatus:"1"},this.voteData={},this.loading=!1}}}),l),M=a(320),V=a(441),A=a(271),G=a(118);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}E.a.Item;let B=Object(G.b)(W=class extends y.Component{constructor(e){super(e),this.componentDidMount=()=>{-1!==window.location.href.indexOf("?uid")&&(L.fetchData(window.location.href.split("?uid=")[1]),L.fetchvoteData(window.location.href.split("?uid=")[1]),L.fetchnum())},this.componentWillUnmount=()=>{L.sentData()},this.voteToHim=()=>{L.showType(!0)},this.validateAmount=(e,t,a)=>{/^\+?[1-9]\d*$/.test(t)?""!==t?Number(t)>L.num?a("\u6295\u7968\u4e0d\u5f97\u8d85\u8fc7".concat(L.num,"DX")):Number(t)<1e3?a("\u6700\u4f4e\u6295\u7968\u65701000DX"):a():a("\u6295\u7968\u6570\u4e0d\u5f97\u4e3a\u7a7a"):a("\u8bf7\u586b\u5165\u5927\u4e8e\u96f6\u7684\u6574\u6570")},this.handleSubmit=e=>{e.preventDefault(),this.props.form.validateFields(async(e,t)=>{if(e)return;!function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}}({},t);j.a.confirm({title:"\u60a8\u4e4b\u524d\u7684\u6295\u7968\u6570\u91cf\u5c06\u4fee\u6539\u4e3a\u6b64\u6b21\u6295\u7968\u7684\u6570\u91cf,\u60a8\u786e\u5b9a\u8981\u63d0\u4ea4\u5417?",content:"",okText:"\u786e\u5b9a",cancelText:"\u6211\u518d\u60f3\u60f3",onOk(){},onCancel(){}})})},this.state={}}render(){const e=L.loading,t=L.data,a=L.voteData,i=L.showModal,n=L.num,r=this.props.form.getFieldDecorator,o=window.document.body.offsetWidth>1200?{labelCol:{span:4},wrapperCol:{span:20}}:{labelCol:{span:24},wrapperCol:{span:24}};return O.a.createElement("div",{className:"delegdate-details"},O.a.createElement(M.a,{btt:"/nodevote"}),O.a.createElement(V.a,{name:"\u8282\u70b9\u4fe1\u606f"}),O.a.createElement("h2",null,"\u8282\u70b9\u540d\u79f0"),O.a.createElement("div",{className:"details-box"},t.nickName),O.a.createElement("h2",null,"\u5f97\u7968\u603b\u6570"),O.a.createElement("div",{className:"details-box"},Object(A.b)(a.votes)),O.a.createElement("h2",null,"\u8282\u70b9\u8d28\u62bc\u6570\u91cf"),O.a.createElement("div",{className:"details-box"},a.persons),O.a.createElement("h2",null,"\u6295\u7968\u5956\u52b1\u5206\u914d"),O.a.createElement("div",{className:"details-box"},t.rewardRatio,"%"),O.a.createElement("h2",null,"\u7ade\u9009\u5ba3\u8a00"),O.a.createElement("div",{className:"details-big-box"},t.manifesto),O.a.createElement(k.a,{span:24,style:{marginTop:"24px"}},O.a.createElement(N.a,{xs:24,sm:24,xl:24,align:"center"},O.a.createElement(D.a,{type:"primary",onClick:this.voteToHim,style:{margin:"0 auto"},loading:e},"\u6295\u4ed6\u4e00\u7968"))),O.a.createElement(j.a,{visible:i,footer:null,title:"\u8282\u70b9\u6295\u7968",width:700,bodyStyle:{padding:20},maskClosable:!1,onCancel:()=>{this.props.form.resetFields(),L.showType(!1)}},O.a.createElement(E.a,{onSubmit:this.handleSubmit,layout:window.document.body.offsetWidth>1200?"horizontal":"vertical"},O.a.createElement(E.a.Item,Object.assign({colon:!1,label:O.a.createElement("div",{className:"RenderNodeNameLabel"},O.a.createElement("div",{className:"RenderNodeNameLabelTop"},O.a.createElement("span",{className:"colorRequire"},"*"),"\u8282\u70b9\u540d\u79f0"),O.a.createElement("div",{className:"RenderNodeNameLabelBottom"},"\u4e3a\u8282\u70b9\u6295\u7968"))},o),O.a.createElement("div",{className:"inputWrapperVote"},r("candidateNickName",{initialValue:t.nickName})(O.a.createElement(P.a,{size:"large",placeholder:"",disabled:!0,style:{width:"100%",minHeight:"55px",height:"auto"}})))),O.a.createElement(E.a.Item,Object.assign({colon:!1,label:O.a.createElement("div",{className:"RenderMachineLabel"},O.a.createElement("div",{className:"RenderMachineLabelTop"},O.a.createElement("span",{className:"colorRequire"},"*"),"\u6295\u7968\u6570\u91cf"),O.a.createElement("div",{className:"RenderMachineLabelBottom"},"\u6700\u4f4e1000DX"))},o),O.a.createElement("div",{className:"inputWrapperVote"},r("amount",{initialValue:"",rules:[{validator:this.validateAmount},{required:!1,message:"\u6295\u7968\u6570\u4e3a\u5fc5\u586b!"}]})(O.a.createElement(P.a,{size:"large",placeholder:"\u8bf7\u8f93\u5165\u6295\u7968\u6570",style:{width:"100%",minHeight:"55px",height:"auto"}})),O.a.createElement("div",null,O.a.createElement(k.a,null,O.a.createElement(N.a,{className:"TextVote",xs:24,sm:24,md:12,lg:12},"\u5f53\u524d\u6d41\u52a8\u8d26\u6237\u53ef\u6295\uff1a",Object(A.b)(n),"DX"))))),O.a.createElement(E.a.Item,null,O.a.createElement(D.a,{type:"primary",className:"form-button",htmlType:"submit",style:{float:"right"}},"\u786e\u5b9a")))))}})||W;t.default=Object(x.g)(E.a.create()(Object(G.b)(B)))}}]);